<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório Completo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        .hidden { display: none; }
        .increase { color: #10B981; }
        .decrease { color: #EF4444; }
        .metric-card { background: #F9FAFB; padding: 1rem; border-radius: 0.5rem; }
        .metric-comparison { display: flex; align-items: center; }
    </style>
</head>

<body class="bg-gray-100 font-sans">
    <div class="container mx-auto p-6">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">Relatório Completo</h1>
        <div id="authSection">
            <button id="loginBtn" class="bg-blue-600 text-white px-4 py-2 rounded">Login com Facebook</button>
        </div>
        <div id="reportSection" class="hidden">
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="unitId" class="block text-sm font-medium text-gray-700">Unidade</label>
                        <select id="unitId" class="mt-1 block w-full border-gray-300 rounded-md"></select>
                    </div>
                    <div>
                        <label for="startDate" class="block text-sm font-medium text-gray-700">Data Inicial</label>
                        <input type="date" id="startDate" class="mt-1 block w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label for="endDate" class="block text-sm font-medium text-gray-700">Data Final</label>
                        <input type="date" id="endDate" class="mt-1 block w-full border-gray-300 rounded-md">
                    </div>
                    <div id="blackFilters">
                        <label for="campaignFilter" class="block text-sm font-medium text-gray-700">Filtrar Campanhas</label>
                        <select id="campaignFilter" multiple class="mt-1 block w-full border-gray-300 rounded-md"></select>
                    </div>
                    <div>
                        <label for="budgetsCompleted" class="block text-sm font-medium text-gray-700">Orçamentos Realizados</label>
                        <input type="number" id="budgetsCompleted" class="mt-1 block w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label for="salesCount" class="block text-sm font-medium text-gray-700">Número de Vendas</label>
                        <input type="number" id="salesCount" class="mt-1 block w-full border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label for="revenue" class="block text-sm font-medium text-gray-700">Faturamento</label>
                        <input type="number" step="0.01" id="revenue" class="mt-1 block w-full border-gray-300 rounded-md">
                    </div>
                    <div class="col-span-2">
                        <label for="performanceAnalysis" class="block text-sm font-medium text-gray-700">Análise de Desempenho</label>
                        <textarea id="performanceAnalysis" class="mt-1 block w-full border-gray-300 rounded-md" rows="4"></textarea>
                    </div>
                </div>
                <button id="generateReportBtn" class="mt-4 bg-green-600 text-white px-4 py-2 rounded">Gerar Relatório</button>
            </div>
            <div id="reportContainer" class="mt-6"></div>
            <div class="mt-4 flex space-x-4">
                <button id="shareWhatsAppBtn" class="hidden bg-green-500 text-white px-4 py-2 rounded">Compartilhar no WhatsApp</button>
                <button id="exportPDFBtn" class="hidden bg-blue-600 text-white px-4 py-2 rounded">Exportar PDF</button>
            </div>
        </div>
    </div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
    <script type="module" src="RelatorioCompleto.js"></script>
    <script type="module" src="exportPDF.js"></script>
</body>
</html>